<div class="main-container">
  <div class="title-container">
    <h1 class="title">Inspecciones</h1>
  </div>

  <form [formGroup]="inspectionForm" *ngIf="!isLoading">
    <div class="inputs-container">
      <mat-form-field class="field-input">
        <mat-label>Propietarios</mat-label>
        <input
          type="text"
          placeholder="Selecciona un propietario"
          matInput
          formControlName="propietario"
          [matAutocomplete]="auto1"
        />
        <mat-autocomplete #auto1="matAutocomplete" [displayWith]="displayOwnerName">
          <mat-option
            *ngFor="let option of optionsOwners | async"
            [value]="option"
          >
            {{ option.nombre_propietario }} - {{ option.codigo_propietario }}
          </mat-option>
        </mat-autocomplete>
      </mat-form-field>

      <mat-form-field class="field-input">
        <mat-label>Conductor</mat-label>
        <input
          type="text"
          placeholder="Selecciona un conductor"
          matInput
          formControlName="conductor"
          [matAutocomplete]="auto2"
        />
        <mat-autocomplete #auto2="matAutocomplete" [displayWith]="displayDriverName">
          <mat-option
            *ngFor="let option of optionsDrivers | async"
            [value]="option"
          >
            {{ option.nombre_conductor }} - {{ option.cedula }}
          </mat-option>
        </mat-autocomplete>
      </mat-form-field>

      <mat-form-field class="field-input">
        <mat-label>Vehículos</mat-label>
        <input
          type="text"
          placeholder="Selecciona un vehículo"
          matInput
          formControlName="vehiculo"
          [matAutocomplete]="auto3"
        />
        <mat-autocomplete #auto3="matAutocomplete" [displayWith]="displayVehiclePlate">
          <mat-option
            *ngFor="let option of optionsVehicles | async"
            [value]="option"
          >
            {{ option.numero_unidad }} - {{ option.marca }} {{ option.linea }}
          </mat-option>
        </mat-autocomplete>
      </mat-form-field>
    </div>

    <div class="inputs-container">
      <mat-form-field class="field-input" (click)="datepicker.open()">
        <input
          matInput
          placeholder="Selecciona una fecha inicial"
          [matDatepicker]="datepicker"
          readonly
          formControlName="fechaInicial"
        />
        <mat-hint>MM/DD/YYYY</mat-hint>
        <mat-datepicker-toggle
          matIconSuffix
          [for]="datepicker"
        ></mat-datepicker-toggle>
        <mat-datepicker #datepicker></mat-datepicker>
      </mat-form-field>

      <mat-form-field class="field-input" (click)="datepicker2.open()">
        <input
          matInput
          placeholder="Selecciona una fecha final"
          [matDatepicker]="datepicker2"
          readonly
          formControlName="fechaFinal"
        />
        <mat-hint>MM/DD/YYYY</mat-hint>
        <mat-datepicker-toggle
          matIconSuffix
          [for]="datepicker2"
        ></mat-datepicker-toggle>
        <mat-datepicker #datepicker2></mat-datepicker>
      </mat-form-field>

      <div class="field-input buttons-container">
        <button mat-raised-button class="button">Buscar</button>
        <button mat-raised-button class="button">Reporte</button>
        <button mat-raised-button class="button">Nueva</button>
      </div>
    </div>
  </form>

  <mat-progress-bar mode="indeterminate" *ngIf="isLoading"></mat-progress-bar>
</div>
